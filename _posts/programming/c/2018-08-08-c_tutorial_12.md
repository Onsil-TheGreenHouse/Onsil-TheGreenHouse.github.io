---
layout: post
title:  "[C] Call by value/reference, Debug"
date:   2018-08-08 15:00:00
description: C Call by value/reference, Visual Studio Debugging
categories:
- programming
- c
banner_image: /programming/c/c-logo.png
comments: true
---

C, Call by value, Call by reference, Debug

---

## <span style="color: blue">이번 챕터의 목표</span>

<br>

### <span style="color: green">문자열을 복사하는 함수를 작성하기</span>

![c_tutorial12_goal](https://lh3.googleusercontent.com/VGMu79mccQQuxPqh_2Wk5AHegw7qBJBIcJYsz9mYv0wv_alxli5YmBFhlyfeopUp_SPWPXwcyyYp71Xo9RMrvOXbFyzOlvSjy9c2sy0vcbKszW_GH7cx_Lyn5Sbzeiz7R-KLn60FhsDLm3GBHE6iremEx_Iq344IsmEnl99szNHH2gHP_KI_8qKCYCZo0ysQrfMiLye2D_5DDtJ-RiF4dt6P9N5kqEYf0P4FCVEedKFPPo7SIOEOhzhSpDiFERWAvpm_IwDuj-tpnW5VJyL5of9ZcvbfGTQC_t4XsqIIvWeAD-EtoI5Wp9R0n0E5L6Rc560-zlmYekyDf-MKbDRFK7UGhvYpta0Yoz0e7u-bjftzNN8_8TLm9gpnvKVIvhNvb7brULPolDKBKE06ySVQH3o1323UpYi6w_ZJmLRdFVJO7VE_n87WOi9gguS3zNWceqOdCZYoRvUUgfNVQet7VDAdxiEU7k2OEhchB5-Ryh6voMmezpGbmSL4laOuvSuf91T2a0XQasFS738MXhKi8wY2LQFqWJ77t42I0e7cEpSuwOfnJfliZ9Ims1rcxs-qsGAG_nmAQhfz7rJke96u0wN_LZGPb4gsSd3XJuI=w456-h202-no)

~~~ c
#include <stdio.h>

void MyStrcpy(char *dest, int size, char *src)
{
	// 코드 작성하기
}

int main(void)
{
	char str1[12] = { "Cute Teemo" };
	char str2[12] = { 0 };

	printf("str1을 str2에 복사하는 프로그램\n\n");
	printf("str1: %s\n", str1);
	printf("str2: %s\n\n", str2);

	MyStrcpy(str2, sizeof(str2), str1);
	
	printf("str2: %s\n\n", str2);

	return 0;
}
~~~

만약 str2의 초기 크기가 3인데,

str1의 문자열의 길이가 3보다 크다고하면

다음과 같이 복사가 진행되지 않고 끝나야합니다.

![c_tutorial12_goal2](https://lh3.googleusercontent.com/_TsN2_TpYTJrgVFlQ21FMNUM2d5LDmPa-Nd_hybabifwbhxZ29tb8wJOEZTz0e-BeF987wHgR1fJracI9YZYaroh-HnYGR5OUcM5yKUGpoeBjoLjjmdv_U89WaHU8moV27LvhGu66SetRDqSbIV6TX3lNYZpYUsbiPTCynG4NNYggh81Cf5s-vgzM69UxEHqhWjAT6Q7X7old2otghSnyO7UEHeGGo1DCFL1EfXw2_BFyzif9eV1QJCYL_UpkZ2tVNX-aYq2WYkIh1cHssE5-3Qa7QVfYtK17iYh6sIx-FVEmEzJ96PpTdt1-5CNs7pXBRDAuEUesmBEiWAjBUrgosmFX7cnsEo1J5oiBSa0He2wz5HPyfY71AwYkeqdmiSNubLZfyO-YJcxihK1qCMavQ3cB7x7qhET6FvqUvJC0LWXhVkk1_6a4mtyVy_Pa8MaB6_obzEZQj5fZxHRpqzJWd6FHM9WNcBJyjz59S-J6XPAJlR5bPLCGJFMKENDXvl7Knmo0hU42Q9CicK3A_Els14LMR8nmgt-TUt7qwA_xqGPZgoGdXEZZ7ZWTn2CUHtTIzdiJPTHA8popgc0E0SM6vAB6d9SXSarh46Ti2E=w511-h245-no)

<br>
<hr>
<br>

## <span style="color: blue">Call by value / Call by reference</span>

<br>

Call by value와 Call by reference는

함수에 매개변수를 전달하는 방법입니다.

사실 이전 챕터의 **목표**로도 이미 나왔었던 사항입니다.

<br>

Call by value는 말 그대로

매개변수에 값 그 자체를 전달하는 방식입니다.

예를 들어 다음 코드를 보겠습니다.

~~~ c
#include <stdio.h>

void TryChangeValue(int a, int b)
{
    a = 7;
    b = 77;
}

int main(void)
{
    int x = 10, y = 20;
    TryChangeValue(x, y);
    
    printf("x: %d, y: %d\n\n", x, y);
    
    return 0;
}

/*
 x: 10, y: 20

*/
~~~

초기 x의 값은 10, y의 값은 20입니다.

그리고 TryChangeValue()함수에서

x의 값을 7, y의 값을 77로 바꾸는 걸 시도합니다.

하지만 출력결과에서도 알 수 있듯이 값은 바뀌지 않았습니다.

그 이유는 main()함수에서 TryChangeValue()함수를 호출할 때

매개변수로 넘겨준 값은 x와 y가 아니라 

10, 20 이란 값 그 자체였기 때문입니다.

<br>

Call by reference는 간단히 말해

매개변수로 주소(포인터)를 넘겨주는 방식입니다.

호출된 함수에서는 해당 주소에 접근함으로써

실제 받은 주소에 해당하는 변수를 다룹니다.

다음 코드를 보겠습니다.

~~~ c
#include <stdio.h>

void TryChangeValue(int* a, int* b)
{
    *a = 7;
    *b = 77;
}

int main(void)
{
    int x = 10, y = 20;
    TryChangeValue(&x, &y);
    
    printf("x: %d, y: %d\n\n", x, y);
    
    return 0;
}

/*
 x: 7, y: 77
 
 */
~~~

아까 코드와 거의 비슷합니다.

다만 TryChangeValue()함수의 매개변수가

포인터로 바뀐 것을 알 수 있습니다.

main()함수에서 TryChangeValue()함수를 호출할 때

매개변수로 x, y의 주소가 넘어가고

TryChangeValue()에서는 받은 주소를 가지고

그 주소에 해당하는 변수를 직접적으로 다룹니다.

<br>

이렇게 포인터를 매개변수로 받을 경우 가장 큰 문제점은

매개변수로 받은 포인터가 가리키는 변수의 크기를 모른다는 것입니다.

sizeof(포인터)를 하면 포인터 자체의 크기인 4byte 혹은 8byte가 나옵니다.

그래서 포인터를 매개변수로 넘겨줄 때는

필요에 따라 포인터가 가리키는 변수의 크기도 같이 넘겨줍니다.

문자열을 받아 출력하는 다음의 코드를 살펴보겠습니다.

~~~ c
#include <stdio.h>

void GetName(char* name, int size)
{
    printf("이름을 입력하세요: ");
    
    // gets()로 문자열 받는건 보안 결함
    // 맥에선 윈도우처럼 gets_s() 없음
    // fgets()로 받으면 문자열 마지막이 줄넘김('\n')
    // 그래서 문자열의 마지막을 '\n'에서 '\0'으로 바꿔주는 작업 필요
    fgets(name, size, stdin);
    int temp = strlen(name);
    name[temp-1] = '\0';
    
    // 윈도우에서는 그냥 이 한줄이면 끝
    // gets_s(name, size);
}

int main(void)
{
    char name[30] = {0};
    
    GetName(name, sizeof(name));
    printf("당신의 이름은 %s입니다.\n\n", name);
    
    return 0;
}

/*
 이름을 입력하세요: onsil
 당신의 이름은 onsil입니다.
*/
~~~

그냥 gets()함수를 통해 문자열을 받으면,

입력받은 문자열의 크기가 변수의 크기보다 클 수 있기 때문에 보안 결함이 있습니다.

이를 방지하기 위해 fgets()나 gets_s()함수를 사용합니다.

그런데 이 함수를 이용할 때는 문자열을 저장할 배열의 크기도 넘겨줘야합니다.

그런 이유로 GetName()함수에서 name 배열의 크기도 같이 받는 것이고,

이렇게 크기를 따로 받지 않으면 GetName() 함수 내에서

name 배열의 크기를 알 방법이 없습니다.

<br>

그리고 개발을 하다보면 이런 경우도 있습니다.

피호출자 함수에서 동적으로 할당한 메모리를 호출자 함수에서 해제하는 경우도 있습니다.

다음 예제를 살펴보겠습니다.

이번 코드는 gets_s()함수를 사용했으므로

윈도우에서만 실행됩니다.

~~~ c
// 동적할당을 하는 함수와 반환하는 함수가 다를 수 있다.

#include <stdio.h>
#include <stdlib.h>

char* GetName(void)
{
	char *name = NULL;
	name = (char*)calloc(30, sizeof(char));

	printf("이름을 입력하세요: ");
	gets_s(name, sizeof(char) * 30);

	return name;
}

int main(int argc, char* argv[])
{
	char *name = NULL;
	name = GetName();
	printf("\n당신의 이름은 %s입니다.\n\n", name);

	free(name);
	return 0;
}
~~~

이 코드에서는 main()함수에서 GetName()함수를 호출합니다.

즉, main()이 호출자, GetName()이 피호출자 함수입니다.

그리고, 피호출자 함수에서 name에 30byte 크기의 메모리를 동적 할당하고

호출자 함수에서 그 메모리를 해제하는 걸 볼 수 있습니다.

<br>

이 코드도 GetName() 함수의 반환값이 포인터(char\*)이므로,

주소를 반환하는 일종의 Return by reference라 볼 수 있습니다.

정확히는 C보다는 C++에서 Return by reference 란 용어를 사용하던데

여하튼 중요한건 값이 아니라 주소를 반환했다는 것입니다.

<br>
<hr>
<br>

## <span style="color: blue">디버그(Debug)</span>

<br>

이번에는 윈도우 환경의 Visual Studio 2017에서

간단한 디버깅을 해보겠습니다.

사실 저도 초짜라 디버깅에 익숙하진 않지만,

고급개발자가 되려면 디버깅은 필수라 합니다.

<br>

### <span style="color: green">디버그란?</span>

<br>

bug는 '벌레'를 의미하고, debug는 '벌레를 잡다'를 의미합니다.

여기서는 벌레는 프로그램의 **오류**를 의미합니다.

오류를 벌레라고 부르게 된 유래는...

아주 옛날(1947년)에 하버드 출신이 만든 컴퓨터 Mark II가

오작동 하게됩니다. 원인을 알아내려 이 거대하고 무거운(25톤)

컴퓨터를 살펴보는데, 컴퓨터 회로에 나방 한마리가 들어가 있었댔죠.

이때부터 버그가 컴퓨터 오작동의 대명사로 불리기 시작했다는데,

이보다 훨씬 전에 에디슨이 사용했다고도 하고...

<br>

여하튼 debug는 결국 '오류를 잡다' 라는 뜻이 됩니다.

정확히는 오류는 잡는 행위를 디버깅(Debugging)이라하고

이 디버깅을 하는데 쓰이는 툴을 디버거(Debugger),

그리고 이 둘을 합쳐 디버그(Debug)라고 부릅니다.

<br>

디버깅을 하는 방법은 다양한데, 보통은 코드를 한꺼번에 실행하는게 아니라

코드를 한줄한줄 실행하면서 특정 변수의 값의 변화나

특정 주소의 메모리값을 검사하는 방식으로 진행됩니다.

<br>

디버깅은 대부분의 개발툴에서 제공하는 기능입니다.

여기서는 Visual Studio 2017로 C 코드를 간단하게 디버깅해보겠습니다.

<br>

### <span style="color: green">중단점(break point)</span>

<br>

중단점은 원하는 위치에서 프로그램을 멈춰주는 역할을 합니다.

아래의 간단한 코드를 디버깅 해보겠습니다.

~~~ c
// 중단점 의미파악

#include <stdio.h>

int main(void)
{
	printf("1\n");
	printf("2\n");
	printf("3\n");
	printf("4\n");
	printf("5\n");
	printf("6\n");
	printf("7\n");
	printf("8\n");
	printf("9\n");
	printf("10\n\n");

	return 0;
}
~~~

그냥 1부터 10까지 출력하는 코드입니다.

![c_vs_breakpoint1](https://lh3.googleusercontent.com/7RiahI8eN1KDv06KqDm3ZYp-JKy-vbm12aJwE2c3Ng9YxqCmI4E4Ow6WrAe1PlA_E32IqHoQlec0U2hRUAUWN1eJkVWIGJnI-lycs_c2fXWz3ps0Nhvze4fpZIsW5JpZf9dqLzyiHP-YDnQQxt53FcyFICnuiyhDKWPh5xA7h3LZiWr1c5QKrJ4TYkdSDGAhbE5Q2LEo3qmBUda20CL4yNv_L3-ufxcsqV2xK5TqJnFy9wA6Xb3FIu-iNUJtYrNY45AqkY89UoQDLPDss-v-f2_dEG8lBAR3alVh4lO46cLxRjmjnTMBu8LGATUznh-uQ_aneJClQfrIiuF0uJStvsF2oz9UUcxK5yJUgOX2DFkLQvyMjzJnTJiGiXMAEPDF2uLVlWELIH9qljqtqVuzBsTwVRP36SZPg9rURwC2en2YWAoFwg8qsNsQYFSy7tUoQ6piHuyvMgbAiyu9WFmZWAobv-ikTHfiObag6gksZDjRYU1ulFYbO4TBQe6TCyeTzpQe8XGdDPvzcvkjzQtslww_UH4zuPx0fiaausSd7ENEAuG7bUrDO8YITsXH1EYlyRembi3JQF1lwtwcScm9rv_1H6ErzQFvHG2qfJ0=w849-h754-no)

<br>

먼저 중단점을 아래 사진과 같이 지정합니다.

![c_vs_breakpoint2](https://lh3.googleusercontent.com/s4FDlkNOOp8k-FH8QF_MlM85pbZW4m5cUZ0I7ZY5mMUdH4306a06mWcGgwhtAb_FmqwYWHpofAn3Oy-gQRDNxMp_yLZHi5vVOeKXdEaLjgodUFa_VVoIQfq3aZvVD49MYXc80Js2Hh82LeZMowdCpNJ1S3NZSGV8OObSiNohmytafpcAfT2HJQQtQh2IUJj87nUrWsj78exgqML-dP1oLSZo2StmWvxJErEPcu-l6w6xSIyS8aFz8gZWZQRtgRPI5iEG6LalQ-rkv00PIbLQrqU_yU49YV7eHfY7L__Qu394AZ_BIlhV0pWdcAD-V5L9JoAbNqZu5LiEUI3eUA2UGhwtRGAH9um_BZUYR7P1ASc8SUFzcBHJnVskEPsg6YVfq744ElzuSJ-hkx57ZOXop1ImgRaGno-S-4sIQESwxAVssL0n5E0Ubln9aXZYHL1GYfa_ZW45KIc9Mv0sHC6JBMDF1IkYFPdEFNybk3s8L0dTuZq0kwrTphZWPvynhvsYTQwoipR-XDRSLPNNbQX5Wn504p9FxPNxIofG91F91g31SWiQnrdeG-1QThghW6Rdqifjb0OFil2KNlFalmMADNcFAxkn1FEZH8dEvkY=w820-h440-no)

그냥 저 빨간색 점 위치를 클릭하면 됩니다.

그리고 메뉴에서 디버그 > 디버깅 시작 을 클릭합니다.

단축키가 나와있는 대로 그냥 F5를 눌러도 됩니다.

![c_vs_breakpoint3](https://lh3.googleusercontent.com/0skFmx-1dHppegpvq9VFw4J14A1Q4OFZJeA3R-DeqvvOaaFIFz-lOa509Yy5xHd6GppRlX49cAQptSU36ZdZNkG-9G8NyOxLQ6TaVQ4XZAdkKCHCTT25vJKJ8KQrIJ4b7YqDAN95VkdjjK75eOXtWgURIczFPRnCa0XTwmmBEkNaKmdVaAlFCJs4etZmWqeHHC2VeSw_xhwSI-jQI1ph14qNYDX-r5vSRjhtifHyibsZzUzpoWUDA1oRk2OQElI-J2zdvX0wxGZXQuCg_8-WLBHfOc0M644fhLKFPKjhh8ShiKPB7wPMRfnly1n4LkFPQC6Dmk5lYkgwvVkk8BA9HeVKihNiAmVhI6JstjlgVuWTlKrkQoibH__KVWck3geBhXUTaDZiM6RS3tdVWu5XhTY5wRVC8EAUyn7YUv0acp5TC5FIoABLROuP1p9p-W3sszR-3zuX9oiYnJ98XvwsDlQ_JtOTUIrBsK-Fjw0CnzvVpXIqyljZ0Mp3gEiYID0I1PqOo6wyTCnQLpkalB5IqNRwImxNvwv6MHtrForSmbovBhfY1eOHbWrCzsyxTgSJSlTyMdnk58CIth24ruN6C4sjn5dicNYru1wasZw=w821-h506-no)

<br>

그럼 다음과 같이 중단점 직전까지만 코드가 실행되고 잠시 멈춘 것을 볼 수 있습니다.

![c_vs_breakpoint4](https://lh3.googleusercontent.com/K2CMW_Jylv3EPZLxo9J2XfetHOMLW1v1TLQe_mxw8NV6j9xy98PqVfa8U0txQazHBtO6vK8Mv_IwnjEZ7J0GaUEY3azdKlGy9fXRau2YHoYHq1my_byD37BvDYf3DBD2R7sM-g547dLDW17Vxgh9Ov4pO6KmAUbwQGn_vSrtod9cg6bBPZeMSlqZp8Z3qHyfNk15lhDm4huQrmHScppv-RPSgqNtVvoRVvUqH-XxgwPe3XdVaOUGLqGVY0A0QPHxEUPtwVzoBcZZhsFPgYriuVv-afTPaHhA4__iIOAo_omC5g6cTVOoccNPc_yATJak14JmKKfZToyVeuzGS7FK22hs_snOmRvVahPDJdntB03dmDyr_TqrI1NHqU6zn1IiVCatzcluKTPsLBF0SFYZ8bxOVHvuicTyeYaakMP4hVzpMq-kX4_TcCmsRk_4vj8AIeNc7sPOjPjqr8WPguDoDqry6UzwZ3TcAb5OxJzx4V_JPk7t3yStrMSc1LNtkhvvQYV513BKYNgEf5SelSfb167cDGVJTjeuJfjH0NvpWtcwzt-fDgKESF0yjzc8hKiiSmArLWDyTxC-6yPkrQSx-dok53ndNYrM4FaH8yE=w1360-h907-no)

중단점 부분에 노란 화살표가 의미하는 것은

해당 줄의 코드가 아직 실행된 상태는 아니고, 실행할 차례라는 것입니다.

이 상태에서 디버그 > 프로시저 단위 실행 을 클릭하거나

단축키인 F10을 누르면 코드가 한줄한줄씩 실행됩니다.

![c_vs_breakpoint5](https://lh3.googleusercontent.com/ViPNWKx4fMSVc83QpL_ilhGyrwPSTr2bwHlpgcrTvHZDeUah36bW3rzL8VycI513shanzqcTOtxjDHSViOWVY5cf5J1-B6mafVp1NUHfHfzNhDPCZuL9GyxZqVcBZJ0rChh05lyM-4LNXlEst8JY5t1JvInWSFf1ivCkGOGxMTOdZA_3Vjny2lxqOXmkpDKf6yBhdaRdaTyATfG0T7syFIePzw6KeXN-izd3XfluVRd0XuLImXeAR4O_-DX9IJtKuZdKuVxlhu1VxQZDjJGQLfOaRXSgeCj2JP0oeOrGC11IfPJliEbRZ-UhMUz601AQHqEEo58fVcKFcEj7VU2IRyMWfomrDB9vlcU49QadQyKWcfRX75FiXNlSQibxwKPJz4VjjnuSSvMPNRss1QOP_ijRt8oHMmccevdPfokvUgpZmT6xZT2eRuqyNXuPuOxgpU72YVSiWYFlUaa64acdozIDUICj24Hpz_G7inCm7pKd7X1DXCHlDsYT1_YfHMfukXsR3cCzbz2dExnMaVnLlrtzWD20Tm3COfQ13lU3Iptr6Pg5xLcFmKnESAGnavNwILVlwmBKKiwudKjxyRTvOIcIbIBoO2D0c7NmfZU=w1360-h908-no)

<br>

그러면 실행화면에는 5가 출력이 되고,

화살표는 한줄 밑으로 내려간 것을 볼 수 있습니다.

![c_vs_breakpoint6](https://lh3.googleusercontent.com/TKvFTmdflFjlXeOmhCT9WhWtUfyEFOh2hIiKNFb20wOvLzYfF52W9SroFWC3YZokbdNpzcaJFqnyjRF8mXadHkpTk2JI0REZ_tk0qfsFLxkiKej0lHtP1SK3vtzYZXG0R-cJJpT-cC_62oeagDLLS77bRQMlui5lgDUFbSUDejSgJplkaxzjLKyrDHDUFUWYVo97-sYDyP0N6jNQYBzD8uDxVErwl2xixS4XlNKt6ALGdB4Xajsr_BCQGv9WAmGqWstu3OCFDMqwT3MVMbNhQ6Pqe0gvCzmsM_KnzcaBYpvvs95BBPQeajskXpHkKK9bMiPidOyzMERnTv6emHn9AVu42v9ng81Ey025ox8ss0Qrk8m_2i7J_vZGCyncq5C-0w3pEDUchlmaupirKZp91-kfwEMtXGPUkQe4BHvDH5P0L5kE5uvEv0LmncuSX2tgt8cDvAy_U28d_NGjBquV7Yt5aL58pwtD0Cs-1SasPiNfKsko8y1J3mayofeoMCJd07K-yUusu05MQ1cp7WEHm2aai_8SoeGi0jkIbwerFhyUwk_3Au8BSfGJwI2QDhVlGzi_7NH6JTy5eoOsIWIqfVKgYJ2y5Ejb7E5-8F4=w1357-h908-no)

같은 방식으로 한줄한줄 계속 실행하다

모든 코드를 실행하게 되면 다음과 같은 화면이 됩니다.

![c_vs_breakpoint7](https://lh3.googleusercontent.com/EbJExBcd3IoudqmKnnavA-OLki6T2oJ8IAPT19FLV3MQdJGMeaEpNix16kezeglsf0BF83COMfQHimKEFnjCFNsfCI1ziGg92-T_7Dnw0An5y1Mb4A7I6HVHn0J1P-HUnkReja5u1E3NpYFvPU1m1p7pnJyJy5EW6OONdoFri5jcyMISyar-gd8RH-7EAIpajzN5rEQOhkOdhd8CLyxCTI-qVVq58op39H1GjzwFZbcrFi_zLtjCUtDJ7XdGaU5h0iG-9ic7zDdfTs13QPU55A3IU6uOtcrTzJY4Qnncghp36N9Y3BjQ77-IFppZsR7Ss_RtNSbLhAbRjFVw-Xlzfl-oyqEch96F5v3OjV3ozDXcyC2tH-xUxqZ6InSVcPuybrrDMgigISlyPF6tfz2e8nfeComDuzX_C6Ge4l_5kI_xV1CeCRjvbAgWA_3S30CSaz1crjXz7Sat_1wmpPNqVIt04gATQBgf67B1pCmHEcVMivKizbdHgCAPqn-hkMb-iQryTXzkZctXCqfZaOprz_bYeNlJHtSPQx4_HpSXCALd8DZT8-SWpFXhqZK25usUlNd6MnhOiwb0HoXuM5HGulDwIAUuA0PMH3qTlS0=w1359-h907-no)

노란 화살표가 가리키고 있는 코드가

invoke_main()함수인 것으로 보아,

c함수 내부적으로 main()함수를 실행시키는 코드인 것 같습니다.

다음 과정이 계속 궁금하다면 계속 F10을 눌러 실행시키면 됩니다.

도중에 디버깅을 끝내고 싶다면 위 그림에서 표시한 중지 아이콘을 클릭하면 됩니다.

<br>

### <span style="color: green">메모리 값 살펴보기</span>

<br>

이번에는 특정 변수의 메모리 값을 살펴보겠습니다.

사용할 코드는 아까 Call by reference 부분에서 사용했던 코드입니다.

~~~ c
// 동적할당을 하는 함수와 반환하는 함수가 다를 수 있다.

#include <stdio.h>
#include <stdlib.h>

char* GetName(void)
{
	char *name = NULL;
	name = (char*)calloc(30, sizeof(char));

	printf("이름을 입력하세요: ");
	gets_s(name, sizeof(char) * 30);

	return name;
}

int main(int argc, char* argv[])
{
	char *name = NULL;
	name = GetName();
	printf("\n당신의 이름은 %s입니다.\n\n", name);

	free(name);
	return 0;
}
~~~

<br>

여기서는 name 변수를 살펴보겠습니다.

중단점을 아래와 같이 설정합니다.

![c_debug1](https://lh3.googleusercontent.com/P4ZeiX5qVui9zXVt32z0x987FnsDXahd0yMgL2Dg66CZLJj96z79JR6pcG1iHYnQoAUJRZM1RmMxANaq6V9IX9hbmt-UnAW_onUtrNPDqotUP4Kabz08q5vuI_irIKmOqrxzMoRz1P8zN3a40Jeuqmfjx-JK7-MSUMYPLIwcJoxN6zfoEzq8g9ERQiAgb1SnbBNtamh6nTwcBIVM-cloDTkUB2Gs38yy2Wwz1l-M4ylUscKQYcqiqx64UsYLCBAL6QiTtYRaN3PeD0Wy7pDWvr87LwMhzfYWza6w4sAOC-3zbEfsiqyGCDnGdKrIGLNZaTfJfqMNTn1eVRJZDKPnKiNZQIyg368-DGTtSm2kocy78LhIvC5btHxNFFKMBzP0kJOYAnewY0O30-hTLmASfLfbqc3aQPuqyINNn3WN8ROBDTdGlepDqOtZjZCiGn3urzSmYWq5TlknXwdyvWXSTUS1H9qJ-27YC79q5VWkmTxTegHVu2d-OknWUrZyoqMv02I1J_yRFSb0blJqvNqd8uepTNDZwEhYscayqHvpuUV9MQxoP-UKvmT7grdIVWyNJm6Nso6VYsUESfD_ba_UhIfhfm7uIEc80pjrjZo=w945-h591-no)

그리고 아까 했던 것처럼 디버깅을 시작합니다.

![c_debug2](https://lh3.googleusercontent.com/MvnTQApTzy9FmAlCvuG9cBKYoiWpbsu6EFcYoLpCOouW-r116eC_Sqz43bdB5Ypyy0kGxYBXGS1G8G4ygXXeTAaisXgyY5r5jomJaXc8E79uhfspaMPVAZvlzbjZ3WxY3wukT1IIxym2tn7OmVNv46LcS40X4QaKD25ALpuTiI0W4yfn_R0Hi3EXIlmzNZ95AIkVTtYyM0zIJZg2tw8IS_3VQr-uBSyptrawLwsy152E_oNqtZ4ifznqFY1gT6n850Va5k9IQU9dg2VGgEGIylPhHzVoYJDotoJQmDe8Pg5JS8esW05DjosPF-pC8pngWrNgtzEZvs5POpwg1hHORkNbo9PL_ZMeDeeoI4S8zagYHdHejkmzo2UUSNF3Zss2H1KBHUAV1MhR2js3Ij9y6IjrIR8rdIakGF0UJndpf2krbyOZZMNKGBKgIqFNKSAs9-4XixBFOeKpgDF2EqUZDFbWaiq-VMGa3_AM2NVdc-zA-qd-VBaBo7V3aSFTp5AmXQmZ1DV4wIpqk0eTbHhe260ivcW3Pp_NO9olUkBfsGMm1zXK9E_q_ooJXeWfpPamrx-YCIz6ByJnohCgyqnO4UzXmZhFtgDfQ-YGNzU=w917-h599-no)

그럼 아래와 같은 화면이 될 것입니다.

![c_debug3](https://lh3.googleusercontent.com/xyn5nng8XHibFZpvPFTx-Otcca0c_cVMYMmUECgu0kQDV4BcHoOe3BN5F2HCuqvvr7QCGR75wXquv1lKIH1dfytQXnLY77cseiZBVAc6uvTRs61ZQq8S8dCYt_0yNtajzS8Iw8mn2GcrbWxegWQkgVGCNWqoSbxymfR2gvbH3LF03bBcD1CYZ13Af1fvKcoTSDCp6MKvBIsZvYgnUcf4ZtXRPV9n9yH69O9pZvKLhEMdeLhGjgOU_gmWpZJvKuGl5KEzjEs2i77Cg9-8CPFXg7kzHwoPw3PHBB7Gv-VE9GMC3XlwEE8PubUt-adhU6geu4edIxCfgeJyk0OlSgB_8gt2-G0Un47bxjXWB11GdfaDV4Hw2Yc4Hwz0NapMmSUid6sqfEvi1Wbsu2ZAhRan2WuFjMgB091GGUARnZXShzFrrd6pIYjhKeLlZaZPoVVEo3XyBJM1h-zI5bL-oMIg5VTemmDxNqT4UqsyXMOX28ymFhShLyp6MsxGQH-49Ypl1xkfXh9sqMvEG7Bb5qIFFvjGHgCdwBcW7hHqtuhWKotBgJKgbxfy6nz4wRAfRPij08D-ne6Fpa3-7W-9GlCTRa-FAok9_k7Zm6f_9rw=w1844-h1006-no)

노란 화살표를 살펴보면 c코드에서 제일 먼저 실행되는 main()함수의

중단점에서 코드가 멈춰 실행대기 중인 걸 볼 수 있습니다.

여기서 메모리의 값을 살펴볼려면

**디버그 > 창 > 메모리** 에서 메모리창을 켜야합니다.

여기서는 총 3개의 메모리창을 열 것입니다.

![c_debug4](https://lh3.googleusercontent.com/3DzRbL4w1u3ZygDSN6HtjGkuOTZRrJjXZG1V_eM4WYRfAZdAqXLwWZsLsmSI6byD-SBVmpRTZ6lQ-JEaoEG52fZkK-ygTMLk6i8XhIi2pPvBI23MHwjnn0fanr2HR4HoOdemcm_Rb4lg3nA-lXIDYuGlsI1OdEyiHxeoqfq_ZORV9k5ZdkjN45425FmS4vhtX6-bbI1YXHg1uotGJTZnfBcmCdPu_IKt61yotf7QSSfmw0YfKOKQFXuGj-VUrs22-KgppfI8comGuBTjwYGykLM-XYFfYLIrVmJJ0251iPJALT8JnKnNBDwHcJEp1qe3-AtlrLHxDmjKoLEPu3V4CwCnIkE7nDuuCYFjW5IrdQC9N5itg6b4iL4ilfoauHs8o5CzIE95uui9JUMdmuioztZZ4LF6xmNZ7v6x8mMnMaqpbb2irqOUQ-wjCdmeFWrIzYGSvyWdTDmmZPl-CeebyBZ2NSQeOZ6NgAUQX4XLFKNQ4J5LeoUG5M_hxXAayeBntuE1U6ANBLN2h0mHmKUct3vznr2jyIgKLpjtJOS8m9_fRHiFeN4HaPIh6rYQGOhWFDp9RmdSKF5F1dai4idQz4-nIo7ODHSGwJeYUN8=w1169-h720-no)

일단 메모리1 창을 켜면 다음과 같은 화면이 됩니다.

![c_debug5](https://lh3.googleusercontent.com/T-YFZ1b9mCbyNguRxSuXlO0kVb0oeFx738QxQWaeoOt7pv1qLthOAX8kf5-NAVhSy8zPDu6BC1J6yIeoyYNNW4L4TsMkSqGK_y07kiqBX1vt1KSWfjUGPIB8nDvRTA417eU5j1fj1cqlvlap9tBzlOAygl2S5LXXhk8_pg69Yo_HXCzP41XLigsL34NGW6wdXSWtB8GY0yB_PDEMY-PEPaNyDWSqzdZhPEaUTB-GokC4vljqd6gxYBdUqzIdY6jNWJ3dSx0Sq1bh1mDoLyVt8Aay0WjBVr0M9_l-sk1KomQ3QfDytyiiAKBZJ-3WS5d9DJJjURbNk4NJI4vz0n6Ngsc-veYH5LfOsFVn8djmdW4tWbNXhQtUydDTAOIkdZ7w5tDbVf8-BbZRyjowHHNoogJVOghwWdPlHmroXO91vDTtUKnPaylS0tQdhUWIWBENn9KuVxb-HzCgS_LraBO13ljGFPS48hf1QLKu4S5x1L0pUa7p2aInecSIVH8EjhsdD7aMRdWRQpvbCzmJDIr8SL4zsuKB3JbRIwmQ776ohFs3kcjJQ8wvRhoz60v2F2AP-Wwkse0tbZ9QleojxHsznuQAAhB7drajV5G7zWg=w1789-h1006-no)

<br>

코드와 메모리창을 함께 보기위해 코드창에 우클릭을 해서 **새 가로 탭 그룹**을 클릭합니다.

![c_debug6](https://lh3.googleusercontent.com/nxjEDgceIq6CyCc7NFhvXLBCyH316LF17pPhXfsGQa0kfAdCFpdf6DR27lq-jBaYezs6vDUSTo_Uf2ufuqfNHAyXJml931PLp18cyZCYoEfwZ9cQTyikikJpHEeDK6bu2RVCHG5bz1PlMgdyYpu6gFVncGBX7n2LuYSyI-6-z003rBYIEHSoEZvE1vc82ihP8qhYWQJhUY2IJCU6kn-0fbsMdjiiOKY6SXeQdnuwbFR1GZ0vJMRg-xrulYbXxuTvvorW_nQxG-ff1gTDaHRLkXfjQVNsCpPwT0BiZOY99-jw1TO2ReCrdD7YwevHNcvVJla-6B_0JcBSSnDjLpK3zfvjin9fAQYCdW_yeH2wrA5UnpKC_YWM4r5dwSIewD_Y8C2EHivmWTd0fKHhL1nBB8loZq6mjuRrQ-BhWkYuSS4s05_XzcL35eAeN4s5XhY0RQ1Y7k6cNliSEEvvd3-zFXnNkhbEt-KuYS0DiuF1m9PvhjnWUYuhV85WDgGWq4bVbjnnSKVQiKCKM9UB07b5EQtUD5y3kHZ64kWZj6luUjHaubJjwsfwyuRT26NjkdZAum1pkVjOisjzgSQi4GH2RahL7sWC4_gBa8AEoIk=w1067-h625-no)

그러면 다음과 같이 한 화면에 나눠서 메모리창과 코드창을 볼 수 있습니다.

![c_debug7](https://lh3.googleusercontent.com/cwypYlUkpKSNZSxP3kErs2TbfnkHwBib8hLcJ7vS3jaYKaYv89mblrOTBj7IRBFx5-1DfcT7jgCXmj9QR8ZrOz2kmivf-OXV90ZNx62ahdC1hljEXxuLbpWymMx90xjLthdJ0vmkzVAn-jZR_OkLlLRKM684SPGYpmk4e99Xoc26sV-9JgcXY6PL6Mz3kUyR2_zaeCyOzWTVB639SUvVYfi0j6ICZZVnRMcCELIYhVa6xCdg9E0SIKE6VNC8ZGKrG790TAXicKAEXFVd5jFzWzIVbaZN2KHwxKZy2o7VDn-r5bmDGJ0-j4IwJkba3-GScisUAloGRN341NYZ0hY-YkUeCzHKE9aDCsZZOF_QnXlz8CfkKrf1HLUasRhEh9PX3vXUUWUpvUnlpgvmi7iTjwTYFASsFwhK0JtgbuIk-Xk6ehG_uhWB6Emr_Ne7ylzpZnTR54gymTmkzrIPCx7WqpWpsd9fMi5duXqPCkFgHf1GhOmY-VekVwcbzcK8m9UcxGUwYGqWazUyeEH1gsggqtNSRGWyR0pfQLt1uwm8AjFUrh44xJFX3LwEIoBtSA56_tpVxDtpx0zl8FtGMtdXdxNrHZEMPwqgNJ3VyaQ=w1789-h1006-no)

<br>

위와 같은 방식으로 메모리2 창도 엽니다.

![c_debug8](https://lh3.googleusercontent.com/Jz2-dpqLVvwkSQa6179EPyEh8v552sXshONZjHGst2DDpwOFGnCkEfpnW7NgcZUmOubrXtr0krrRuhfsxeaBfYTU0ErGtuoF-hyXDbZUYCQfTsj244Sd1gysXAVD-bWyQ1NWDiO6X5aKatlufMIef_kDhOQNQBNz9crri3Kw37x7h1UpaCUUfdbIYM2Z7zS_EYcLxcsxUgGI1IkS_RMRlkZYsyOHmbGFe__stEy9GkyQ3VOATyp7HZKWQW6tuv-ak5jRLu42FuzWOSjCF-lnmBlTECPBB_ezyIIa7N1AUAvudWAPt32pvhYRrsQ0c31u4zX4wYof5dYTfWh2xnM3aoRHONBVVaCad9F0VSuKVEG9gHrMDkOiXD_FyFFHxfd-w2scf7Y_8iQjo_XuIBFMaDpormM35a7Y51L5xxsAk5PAKGHYRUzxlSLoiV1nwy39FVyjvKduUew404KphIwkEyZp9wbW0_x1mN4UMBz52fl-M5Iay4hs4AqKsVPCe6OjxknWeZdI5zaIaY3padsnHl_5PX8hnL8HJfw9KK1o-LCE_ca271g00ZUi-9exDws6czoyxdrHalyIMINFxtnlZQaa83muBbH4aGTAZbU=w1789-h1006-no)

근데 메모리창과 코드창이 뒤죽박죽이니 보기 안좋습니다.

메모리2 창을 드래그&드롭으로 코드창과 같은 라인에 합칠 수 있습니다.

![c_debug9](https://lh3.googleusercontent.com/sSKgwKIWWj23_-0M39aVaaYieGYS8AyAIf0cLj27GWGe11HAWFeUXLxUsjfghDAa4XIyT9je1wcETX3b0zNrVZiBXL1imZ2AhAUgHwnKa1WKp4OuvlSoJr-n8t7pyZrXaMiOcYt38SKgqkHOg93FgcNttvNucrNJkGFKZnjyzk70WPq4GUOUljnTj6EXX6bqT4IMPH8ljt8TZeeArtSJrk3Yv7ETJ2VypMJ7yqxJYz1XfTzZXy8qdzp8JN1koV3xM4Nzx6FAZPRy9b6P4DQonfKD7pkrQzQSvz1Jb7232VAWGCVNfaZFgR2CyxgZCcI6zaVcqdw6rcDdPcSILfd2870MNANNn9D3k5t581xU46HpJAhOPGftbV6hQwoc_Cabj48NmyhbsIvjX2HnBtkrovpcrauVFHBpNoPJc3tF41FXJmeZgCFHACiPVmTl3ld5EpJsIrIVlomd2dt0Ir-wtMHy0EX_Dngkt9hgVAAwOvNgxBcptfZqBKR3uHgPWyiI9quhSPtr48KsOmmZt1DqIS8qDUMRKiYOgs7xeO61TRA5lJN4UOLTkf6UhY_JLzNfpqamgPeT3zNsJdMPy9MC07kx3FYIsYCcMH1M250=w1122-h797-no)

그 다음에 위에 같은 방식으로 코드창에 우클릭 후, **새 가로 그룹 탭**을 클릭하면

깔끔하게 위 2개의 창은 메모리창, 맨 아래는 코드창으로 나눠집니다.

같은 방식으로 메모리3 창짜리 열고 다음 화면을 만듭니다.

![c_debug10](https://lh3.googleusercontent.com/pCKAoGhJj1mc1TQQEAMsYUpNd32wNnq90BLDj-KAWpqmBViuye4J6JYwjc8yc3OsHlCETz2CryPsi1OVPdREHt4Py-Q1eXQYBCIRhZGOC3VuxRSqW_1m1pf9tIjrgfriRVODnv4AW9_Luvo_FW4aiTcBZsShVqI7RCHRVsvhWJ2vW3nnWc7I2IoKLwrpz3hjkjVbLmDiL5OsQxALFACfUlDTK-dR8KyAIGAf8_fTwkWkWmxeQ-NFf_D30FhLrX6fvwTdUKTNxTwW6To1c60wrKGrQl7ge3OY-ampWUhhtvGm92SU9xmlDh1oKNzejVLxJAB_AI7DQNLi6cXXlwiNNI_Kw-XhKz2HEnE2ZL9oLJssY1tnY2P4NVyR2cZuCywQEXVoCJyYmO8r-yilvmqQduAVVrpwDTbgbxoD3NFxfz36gMmkJE_at2uooMFzpz97783ucNXbzOiVPFa6G5Eu_RTeBXoy78oLPoLaps_yfgodmGF5Ch_qyad5aKaaEXOaWBCACCF_2qqNtF80HgTCHDpOrC3qyHX3hUuRYv8Cx7HJYsgfarhWXdBDwKNR_usFGjQ9DsPJju9Io7uCOuhPQpwDyJNnRpzbM-lq_kk=w1789-h1006-no)

일단 지금은 메모리창이 랜덤 주소로 설정되어있고, 아직 해당 주소의 값은 안나와있습니다.

<br>

지금 실행대기 노란 화살표를 보면 main()함수 내입니다.

이 상태에서 메모리1 창에 &name을 입력합니다.

그럼 main()함수 내의 지역변수인 name의 주소값이 입력됩니다.

![c_debug11](https://lh3.googleusercontent.com/5-hF3BReyjhjh15Cf46IM14730m0a6RoDVs26QB5N0FKprGm-XJpFs69wkyedIBbPP09LgLNwcFJUmX-0FoMvN6J8ijotQ5tpkHGeMfvzRN6sHXtFW4FHcNEfLmjttHXS67pTjKNuC_lqWxnV34rtPDuLAh5cQfAEkgda-B4FEangtSAuyvahb254hAL0Jh52r_GDw8jmHL839GXYlRsDDmcwEsgj8FCuMIBwNKHiapFEFqgozFPjqyFPnD9rxDVSiA_pSjPbiBBHKX6Bqv37V-vzfkg5qOg7CK7zv3ra85PG_GGmaLSgYAZ3FxqFeim1jW8NGUHgfUrMs7HmIfDDo-jeCMLJ2wnOlKgNJ9DDPETuuGA0WZGug9TQ-nM1r1GiyrmO5zIuOrcepMGmGtxUaUiTSSTxUs_CuR3lsUSSoHpFhzAVrpKNd2QUNtOltDjkOu55xH-Jc1ALHLvDfeI738nT0kcyKHsLvK9-4xHX2h-pA1sWEcdoXtKiHxZ25odFnuXVhR9sAhSWHr8Dc4bL55X8ctv8eZcxh61EmRJUUy_zOOmFZqsdaIOApNTWH4JNTYXFFYXS5Eqzh4273iCGTKC5mpAJ3jbiaIS8Z8=w1161-h835-no)

저 주소 쓰는 곳에 직접 주소를 써야하지만, 우리는 그 주소를 모르니

&연산자를 이용해서 입력해줍니다.

그러면 자동으로 메모리 주소로 바뀌고, 아래와 같이 뜹니다.

![c_debug12](https://lh3.googleusercontent.com/RBNJyXIaVqZ4tRK12q-C8PIqmcCTPRJ1yuTKulyOCtL54cEOtv2Ip8f_gHFl1YXmcRalF0-F-f5CLpSWp0RDNSMrbXxbk2f0vBxo7ugrDU8fsqx08IO2bXLmhQzcvPpurDF73ENkVx4qQqis38cq7OavbNmQi1mgf7wqRatcTefWtnDEfff-YH8himSG81kZKREDRiBbaB8qTRZ6bxELgmTRL7N7MWuyjeAU50F-IrA64Y2A4tOPdpzDQNWKNitBVQL8y6VS-_W1Ei1IWlh9uNQgDDNTKwW7yhu1hd13oHBS9-3_fF24sbG72WBtTBHqL-QMYtgkP1rkZTtMVXztZezHCN3Cve5qpowx_siCXtGkBOwgUkNoQDZ8jmxT8L9S8vwbs4HTWP7A_UcsTXypQhk27Ws1ekFkN9lfuuBjjoIMQyXBidUngJUE14cbQGPwn8M4z8lYWiSIxbB3dwepFo_ntaiHvhE62mmkJNkIHFGKe9d6c_bTFyMdD6ZWkqTj49JT7K2x4CPEcdBJhv5SpgscMKFnL9CEkd5MMyMehOVbyBUU6lL9UD_ndMncx_uyocVuxjzwAiwJ-uVZWLldYjQxIDMshOkJmMYcEVQ=w1094-h806-no)

쓰레기값이 들어있습니다.

이 상태에서 프로시저 단위 실행(F10)을 해봅니다.

그러면 \*name 선언 라인이 실행되면서 다음과 같이 됩니다.

![c_debug13](https://lh3.googleusercontent.com/5arbPJ3EFDvcXVYWcPvkHgBO_COnfs9wQYxTCzuyzrXlWoDmNeka8-Y__womda2N7NXYabce4leAkPNwEXHf50ajUKrH5pq-lw_lIEzIxz-2jGkLOakml2AFjB_l2-x3t-T__F0-lqbuZJfpcEWWO6QHrMSaQ0I_b8CVwokTUFcJA0vfGk9s6nphcLiKjiKDTReLqoA7CxUgpGsPUBhfWAJW6rN2THMURn4XcLTcikzv79J7sbJOeDDXpXKxZk_KzAH6u9DMEDZWpXsHeS5TqUPj9oK-njy5QAB3UoofhKxzQoM0gbOXxF97HEfd_sygwCgNHH8kkkOqLTsXwG7Wofs0w5DcLziRc1yuklPxbraIupaI_07buv4fS-h1UL9bWVQQXoQ71wvk_bNRYgOICHHtXP8vbv3XuZg4AAXoypFvQRs0kIAquRoz-9gRtiH5igBTkrtX9STou-BYjsfilfLr5LJ7wI5x_PSkPW5jMmZORiKzAeEJnQGWnmlEhBJbfgmNHSmk7D4Iz55xYRbj4q2ITMq6YtwkgKV1qRwYAB9veEJhF7Tc6LOrb4UK3lgOySdvjyfIk_qaUreHhe7LY0-uxHS-1N8MgKgexts=w1071-h843-no)

name은 포인트 변수이고 32비트 환경에서 4바이트입니다.

그리고 NULL값으로 지정을 해주니, 메모리1 창을 보면

해당 주소에 정확히 4바이트만큼 0으로 채워지는 걸 볼 수 있습니다.

그리고 노란 화살표는 다음 줄로 넘어가있습니다.

이 상태에서 또 프로시저 단위 실행을 해보면

해당 줄이 실행되면서, GetName() 함수로 넘어가게 됩니다.

그리고 \*name 선언부에 노란 화살표가 멈추고 대기해있습니다.

main()함수에 \*name 변수와 GetName() 함수에 \*name 변수는

서로 다른 지역변수 입니다.

<br>

이 상태에서 메모리2 창에 &name을 입력하면

GetName()함수내의 name변수의 주소값을 입력하는 것입니다.

![c_debug14](https://lh3.googleusercontent.com/vAHP5Mcj4ocVwPEmCxAS69MXZz1C3wf9OZxkv3ZviToPE8WZGbI9hAuOzqbzwbah49a6Pdnft8HVKEz-VCbCQJaW_mRcP9oTJI1gxsAzz0AfsVOyBtsh_lVY2LUGVeb4_xOu6AuYYiyOMNCtkvJ4XaHw7x1hhMcBvXqSLOEmNhFyPSgTZUWwK23aM4I2vGJSmXanP0dhaqLkGsXHRouc50PHHcTmFIeWJY8i_U_Qdbmc1cOV5aeE8WGzfawSvF2aa4RxFj86Z1QRYdBYTFKxjtcDZDV3O9Sb6ooU8-g3AO5y-nyz3FQeKSeBeRV84szkHhO7lswJSRjoRbz8tiki5Qcwuqity2cpKzvvw-Cz0h8W35CeNP5gY3BTDNB1rk6VRKskhsIikHcVUynkhFNfF9HVW8I6Dcn8rM4AJgL-UGv_oMnjBbMwVSZCd0A1Qw6SiP5sdf5vdfVqEulO24Yv2pI1p3bi7OfJ7XS6AINokAefzAWO8yZ8IRiySC_lNiwNoRHYt2TXjUE7bAYNyVNodRKd_ZMNp1DsAQSdi3dv-7DTeh-EJHK7ajSdanBNR9erGnbMw_09mablMR6xxDw1sW0vPIKoysztoJCBwk4=w1123-h822-no)

그럼 아래와 같이 해당 변수의 주소로 바뀌고 값이 뜹니다.

![c_debug15](https://lh3.googleusercontent.com/a7T9780RezcvPT7ZPaO9F0Nvre-upndWPeyQk-k6SHgaN6CqpjPmTFedqQbYmsjTxSZBUGHsxYo4oQppqx2gE49NPVOIDpmNH5EXXN1eejE1YMRTq5l27GiBryM5wU6Ei__HcvRsZt2FqyyCVTQYY7GrqI_EOOeFpjzvNF6dCZ0Uvrwo1ATF_-3tDKZPUZy9tR7HEhxzMiSynkZTPYCQs_6QcE8QiMtTYaekPQuSB1sg4f3PuaoHqPGMMcU-RL_idJTqkZ6mH8iI_u6OrBRyoKODhnz4QJwJjyBeG0C4WcSV8nS4NwT9FUS4vqZoDFrbAfMSvEYXLn9Efj7rlHQ1xSGHXRWpZLx-o0m3hhR5xLxKKu-RZIz7lBp3Y-oxw3E7gfrzcZyCI07ximzETYwJiflKuHgHRlAcb2IGWFmZL-YjvEovNj9Woe5G6MgQKIMDIag_XgSo_iaoASswxcKjKYWBanWIaGmhji4u5B4tlCVZk_usfKmePgkZznDHO0UarfdBu6XRFFmmhQdIyPJAL0TpxCy8yxtEXgVTadlkeD-s4kud4M9nlD5aT9KGjoKgwPIdQL9HP9ddiKpJUn3xY49U4mRrw7P-3T11Eyg=w954-h833-no)

이 상태에서 또 F10으로 한줄을 실행시키면...

![c_debug16](https://lh3.googleusercontent.com/uj3cxtMHQKSb3xT4g5HKq6PYOV4z9HRu2jsabEgKFimI7bsI2Kjyv4mUwIXNxYWrORk56bzQRhQFGmtmUg7FlWzUZHCNk-clnUr1C0YvTWQ28_c5HXNg-TDn19BGXgNJJcsXHYGiyoNDWgvSt7HeH-z4x8aYeAw4QuZG5SjTnLq81FUdcOPfjoJuZCyiDyjkK1vfDQyFy6CSteW12KpScVCugaHRZpQo4ILCQ0wsFk14sqPreSi_-HLfHDJ2v3j_L-OY3A3ibSyPU48bbcJ7rrVFGAjwFF7DKUL5MUVxrt1F21WErSS41n74adA9t5AmXNpa_bWrBpa6G-89DDWiI5t2dkI6WW-XWYXjAj9o2X1CEaqjfGZtGPpQQ2N7tn2RpgtqOIfkZZkH8u6rwDAgbEScvJk_kQ3iDHWZCc_htnsbS4zj-2D_9cfYDeb49GHUG6-9gU2bk97KlvSfX1g7D3B3RTkuELMg9kRzWOzYvMKKF2FDNenuFwUAAGQ8_TWsaiFovIdCp0XRpwo6BHNXPuOctnhVccOc1DqW12rT53-c7Mj0gonO-DaF8taDettuETJwF7a0UFdJwRzrSXYYVcXBSnU3X1W-Z3Q_pCU=w1097-h832-no)

name 변수를 NULL로 설정했기 때문에 역시 4바이트만큼 0으로 채워집니다.

그리고 실행대기인 코드를 보면 30바이트만큼 메모리를 동적할당 하는 구문입니다.

이 상태에서 또 한줄을 실행시키면...

![c_debug17](https://lh3.googleusercontent.com/_all7A9qooSpdUNB6GfNQD-RssPC4yqee6JN8SlccLHE7LEAnVKqp5JiuyCIFNYIu-Wg0iAL7PauVTj3zMtijL0tYieHVsfzEJbjZvBiFzdiPfBFkpCOzFx9zdOxVXAOTniH50JUSuECz2YoY4flHGdwxpByS3U5-2vF6ACG-6lSIvKsoTEgkWKZnMKOghHs48RXTi0YdkW11dP2XLbcfV2M4--GPLQyFyRxbXZQOvt-USEYGt3aUfd-z9L4QLcrMgYzzmDqP370tQ7Y6x-AJHcxROk3JKrNe7ktCgRdrZYrLtZcHXnNVqPDnnPhEC_9fEbEPGfrAA8eAaDRWuymHht3m4LhYKMuYDdF5j-2_MBuvBmWzz-MehAjApdsIeShof-5ktfY6qFiT_z-i67ikVERnrvYeFQ1p4CcxaZ8J9GEFONNTv57bIbMyRUbIkaQc0vMeIYEN2Wa1s0dpKEyjo2QZ5U5UM-S6oUzNoNUxWA9J5CTrIdHs6WeA4ljW3hQklggXC2V-8rKICKTAdaH34OVj-K1lEGlXIV2gJRPWO_UbaTcD2p3nPlHTYHupcTKYs-VrRa_LWSKLFYEWzL-Nabvdg7m1Zr17pYIhig=w1066-h831-no)

GetName()함수의 name값이 변한 걸 볼 수 있습니다.

calloc()함수가 30바이트의 메모리를 동적할당하고,

그 동적할당 한 메모리의 시작 주소를 리턴하여 name함수에 대입한 것이죠.

<br>

이 상태에서 아래 조사식 부분에 name을 입력해봅니다.

![c_debug18](https://lh3.googleusercontent.com/SY_mkT4iGUtCVh8GF7XSTXQLUJbl8b0v8nnad9zrWTFl-s-Zh2KjxbEfu4-s92hi1vQ6G-9x7dKRK3akSi0PYoKWnK6QXA1wYWALoybKWLdQTZh3Q9FM2LRMKGIjcRmFmbOccs43dAOSPBeBx2zXRsgPW24-82jMp3ougmIJzza2GRErsQqUa6O-cdYZ0bW56jdv8ymzg7EsK4FUPZdfzl-K7aIUyoNILYhrqiFZxMYPMnxtygTs6-irNrK7s3W9BgBhtYCHdnmIjhdc3VRB-FN53QlPs4Ic63iu4B6739_DZz9ZZViF703Q1zxbPIaVudhcQ95fbREoBeuD9pvkoWSH3893w6vL7ep0T9eWFiC-wJJO2QYUaoNBxMuVbb86BzTVAWxtQc2VeSZQLaJll1FGStZR6Vnj7Hu3vwXbWJv0oHFkY5YCU3co5cCIm4Kn4VSDfEjrj3HJf_PAlMoCS3Lwi5QqGpob1EQuY-Yh6lr_9hSwoAQfWawDkGge0Uu5hcJK-s6bNICyuRHypg1canOCH99EN_GcCmFXIWUSIa1MFWdYI-iBz4qpiwNUFzfJn-X00jeLzR9PkZ82z5DPLlPST6Ro0jjVT5VOuXY=s1006-no)

그럼 아래와 같이 name 변수의 값과 형식이 나옵니다.

![c_debug19](https://lh3.googleusercontent.com/5kA4iWitNoaiA_vFbmSrKM2Lv6HM0FRr85rpzrkDf9vGORpa-pABC4hmO6ZCW53UFfzNLXrhBacsrf4Gu9wrmX8v3QxHR7l3Gt5Lqm7Z6gblmMg778HJm-DT49m8KO4lgzehzYefN9yXLUfB3HwUXjHBdB_HKyD_ZH2OulONnu6QJdqiyVq7Ts4jvRIJoPWHtg4aultW2VG85oBIK5UuHwygZKQ4h2D3Fo7iwFvu_zV65ckpsVlbpu_3R8YlX3dh5tcwVmaLmF9C_v_yaAkHOJ42UWQLqdAMwrbl7NcdAVs28gOduTOfAtZAZnbdzUDSkbA71R1EFS3An4ef3gYXvt_pWlx0nQzFVK_c3Rzww_TkOOQk7UD5nLZiM5UX_-zTuNIupJNRQQ-kP-lEDI46m9wmB7DyfOQQLCACDgd1nzeiRo1dqZqoh2_bF2CJyGkT0Ppd9W9D0oA_h1b-tV-NczgdaSKtWOmsDtpZAhzmwuw-6zrae4WPeqSSZjif3KE6cA6mrSWreJGfX6wLIo4qLy38u7HyQ_9o-hho0Ge_bcZiZt18HwqIe26A-EJbrqxN--fAKzCWNht6GSar5tb8myt9vHvlsoJ2eZz7BW8=w1083-h1006-no)

값을 잘 보면 **0x00d35130**입니다. 포인터변수니까 주소값이겠죠.

그리고 메모리2의 4바이트를 뒤에서부터 읽으면 역시 **0x00d35130**입니다.

이 값을 메모리3 에 입력해봅니다. 직접 입력해도 되고, 아래 그림과 같이 드래그&드롭 해도 됩니다.

![c_debug20](https://lh3.googleusercontent.com/90rbPEzEGEmguBniTsuqX_0L6zzyBfPPKI-Qbm-SmEyMSVa31LuWVHdAkCCFepCjEmzkB7lcL1RzNAWvDInn9ScNP9gWNNGN_rigZyd33dqpLj6MTFFooc7Cv_0dQD-Th5_V_n2HIX-2IpHiGzjgvRdnljOYo703LgquLhK0dWTw8gEIxadbLn6viZdkqm5pukre9RChXIYQl7wD2Lvu9WX75Q-1RDMfwsg46M9rGg2SWwRvrZt2m1GymWLv0vq075gm-a2mVj8jKxo2XUrCrqIPnbDtAhMDhDCsZ5r3F5eplh7our_e_rJKN4BjQK4s3pGM2uIoF8FvIX307i9HpzpKlUvAsbV26ho3cQa1t14zxDpuODF4i4aPztEfNwNRT5dsn11kou9mrKMQKXdUR_dEqBj-wgXQfttegx1eY0KFJrFIKP6ffrPAPqvJt3zVEvguX6ZiH7HxU56m0u8s4DZzE7aw7PPVjyZwsVAdQlrJ1ZTJLULg93f18T3vMQoY8LtAIaphgav29_FKkwgVZwSQEBw5byXa4xE8dqOGF9LhpQ8NcDAZCVQTN-RYQ40rJ65p6VXm3LCKd7LdZzrbw6NG7qIa78mtkWR1XHs=w1281-h1006-no)

메모리3 의 메모리값을 살펴보면 정확히 30바이트가 0으로 채워진 걸 볼 수 있습니다.

calloc() 함수가 잘 작동한 걸 확인할 수 있습니다.

이 상태에서 또 한줄 실행하면 printf()문이 실행되어 다음과 같이 됩니다.

![c_debug21](https://lh3.googleusercontent.com/BgBp5Q1MkQy-i7mTMxl-kb2ZTsPFTxlH5bn9HXfYefYKY5DGuAIVj_Fb_c1ZGJCiDv-Gte5ft4xUvsoefHePcZoEvteUTe6T1lRs4w086gE76C24-1wUnJISKmvuNEAgx2NGXBRA7YH-ICA5mrcespzGHNm8-6ZTTuQOjnbmZv_YzJDvkl8jALyNcZ5gfd9WItFH_6WrJ2hei5I-FL1ioQsRTlUIgebNQCk_YCizCIwJpuESy8WeTP93vkvgPDUZpNk_vSZwAxG4WNl3uMjOjnL13HRHBPQGA4a-CEKhWYNjJ0atJeCDF9-Ek2u9gOf1lSNRMpJUkICOBa3tTuPckrCT2Zgn09B-nU9iMwfAtv6S-oHyoPa7yNF1J4elBQUPcj0TkbqiEV6VBnEMQCkVm1IJCRrHoB99OsHzQhRyogkNM1B0jJnrPhFXA1xaO6V6kDgRYEEGJLsHmzBvF-rkFuNLiq3U0JItGBYmA6dTShqb8wwyQlnqP41EsEp-9xpVzuM11ASRJehdC7tVC_e2UioqvSOyF4v3AIrZRQowp-JE4_AEEkwqt5FERNMAWn5KtXAmvsch51pOYRcE5l5HYhZnVBVOeiLR567JyT4=w1104-h844-no)

또 한줄을 실행하면 이번엔 아래와 같이 gets_s()함수가 실행됩니다.

![c_debug22](https://lh3.googleusercontent.com/I3Z-8Tb59DKL5hKPK5zMuzVv7ks45EwzAEQLvV1kaxvJQhYRPHNoFhOVwphO7uwAuT0gVIylV99NlmuMAegR8a2IhwnwNfAdsRSLXryJImzTyVpGjZY_ErIAic6gSBMDSm0OIJxrYFrKhGsbhQrCeTQoQSnc4jXNdSL0yuLFcsznLi5g4Y67PE__N4snRZQ7Ef46T_8piX8kDkg0pAcfacoZdMyxyLfphj4PSJnMrq9UYpLZu7z4vQRucVnnWSgIRZ2G1cDXk3IqMLwUvHjWFORFnP9lF0Me6P_dyrjvNOpu1e1ii0reCLx-1EK8T03WYjVioHJhKeqXStWACk8qZC-K5Xx2-N_f_T4AmZPtyJ0XzBDe_BCPS_lxpxsmiMaBx7xaj8Wyx3UtINBaM5i3fMHbQvit8dJ7lx2w5IJUMNJ9T0fe8A8wXyepA14xLvSwZiPBwi6pQI93KU8p_mrf3WkW_2jF2G363WTHa2D5ohOsFFIQetXBesm7xvxL6ruiCrVg-QBKq5lyABTvOzc7qj2ZfP6PMagYoyPAvn4J1r7-1kM54tcw7-KAovt7zDXmTYdCLLWo3VsneS2PFNya8TiwbeOl-_nskyRE6ic=w1789-h1006-no)

'onsil'을 입력하고 엔터를 치면...

![c_debug23](https://lh3.googleusercontent.com/N3NqoezhDZAb9WZdfPGjQDc4lTKbxCfMeBV5LkMQUCktKwWfqy7exMdt_rtl8zwdaGopS9v3mDdNUln7wNslQYekawZBTpL2XnQnAZ-MdyDErqbPD57NM__RrjUBLpBftbIKCHWa-ABy45vPpvwqLfuJYY8IpbKfA2yxnyc6gyrpg76OjB30NfNhctByIVeQK0nsa_HFEZ7Mjv9Zc5HwdUWP46eC4EKCmy0I5_J1iXtUCH1ZJBXpNsl3uxQOWxEdS0Q9nJuSjbVdsAylfBBAmW_iQp5sq56NifxnXgQW7Ik7Lj1yMRB7pMp34qL1oqxxXcmIhpGiA3zwS778Ax-bd73Bq-DzYLvQa_xjfCkJNEXGqRuXBx2UWJ0ILGRw2KP0yhElIDvxZsVhS2vnyb8Y_wNS9AYrsIQRYpDsjS2oAKrCh1wipQqI8XmaHGkNzHlxoIG8-r5yDLCI06sfi0V2nv3blOV38bVnEw-IaA3t32D8kjMuAnAFseXX5NVKl92_nYb4oemTAfbcJJjlfw8ye9_GxNnzxWcpzGgIp_m58OCYqfBP9yTVE_-HAbAtGNwrl-7vWKdk9pCYoVpdQNyUBevG9l3lUZDlxZiv5ME=w1296-h959-no)

메모리3 값이 변한 걸 볼 수 있습니다. 옆에 친절하게도 나와있지만

'o'의 아스키 코드값은 6f

'n'의 아스키 코드값은 6e

's'의 아스키 코드값은 73

'i'의 아스키 코드값은 69

'l'의 아스키 코드값은 6c

입니다. 여하튼 입력한대로 메모리에 잘 저장된 것을 볼 수 있습니다.

<br>

이제 한줄한줄 계속 실행하다 GetName()함수를 빠져나가면...

![c_debug24](https://lh3.googleusercontent.com/hM3yQu17jZHI8XbvR3QG8JrtHyWpCSjdRYPH5cka080Nxcu0p58LOnPzzqSOVbom4u3tMXlSkmhNCCX29pgRWQZYGfxluVUcHxBD4ddaW8iQX6-sxMiXkgRDBcYchn84LeVNiKV0W0M0IgE_FyUU9FD412OE9j8Pu-mnokvgeslAoCJThYKHDBIF4OwEjlz4sGNgcuiP9i7k4YhhTgS6Sv8Pqw0ZLU9Nh4-ZUOMbP69nPcMnR8dm6PQh6p0rNl1P6rjmbthFHcKFVMu3ad6eLCbVIOv67bEpeYyBxbPCH0jWWqKxTNhLJuC6r4ilczD7lw9oYvnjRVrTyZpoV2Gn0HmcOqAhBTBOuIeEDZTCEcaifte_HG27fBD6ydcxEhXaJZKFoJl7OKUJouHDrjeffN14y6x2Z6SSizMm7fkWr8mQjKB336MAZY5ZXErfeTv937lk62bxF63o7gHZeYzPQId3ejvPBZTmx2hYVkwBa9Cgfb7C7YNT6PLhD3ksGbpddBiIwWRsRwqYbQCxndd0IQwbMFDu4Hap4Os6KwpZm0E4ZMO8IdrZXr_rclFk2GkDOIbFafU8qMfe6N8OxpHKoey0Ahy7uRm45doIY18=w1292-h958-no)

아래 조사식을 보면 name값이 NULL로 된걸 볼 수 있습니다.

이는 이제 name이 나타내는 바가 main()함수의 name 변수이고,

아직 main()함수의 name은 NULL값이기 때문입니다.

<br>

또 한줄을 실행하면...

![c_debug25](https://lh3.googleusercontent.com/aQwMR-xluQUZwnXXSyL4cDN8bVDIWHZs_EY3ItA-yLUyNiYhYfVd-n6cGqfkKq_xLX9yYz1sm2QhgdUp7YMM6tO8ZzF5IYraDpXJnf4FpUHPHxRd9AxJSGDTGe9ECoUTJycH_4mt3QrK276VI6tr1THFqq-vfcwqhaNXDRHHUtFb-MOy91MJBUn7l83w4GoY79v_IFyzcNmF0WEwJOOhlXeSeM26w2FxUJkvPP2w_mLeu68nBgMjORZiZ3VO2eODwWe1wgjnB-7XxRvjD5I9zabPcRbjubAP9qF4oZzn98gSaljf1MBV3kMMl9T10ep50mRcZtGRXrO6S6TcadcogjDt8DmKZfohyhqSnvH9xvxXMYFH4YeHDQyHDp2R0_F0THUHJ6C7uMGc8FsxyVRNw63Ed1bDAs_aY3z8tdcc_2m59nfpDxgOh0s0kcDLvmcXZ-NU8w-c9sagO8epcsXNaxXIuNP9ZPTkM4T2D47hvpatWF5vwaVjb8f7p_QaUxeciDX15baSK07i1bSzUU1A3CS9INhUdXZlXwsRunCUw7yOqH9grDFwvkg_EbjgfU0IdLXY0tfg5viqTolmS85ahOuX0cZF2sZjX8aGK7k=w1289-h1006-no)

정상적으로 main()함수의 name 변수값을 의미하는

메모리1 창의 값이 아까 동적할당한 메모리의 시작주소값으로 바뀝니다.

아래 조사식에서도 onsil을 가리키고 있다고 나옵니다.

<br>

또 한줄을 실행하면...

![c_debug26](https://lh3.googleusercontent.com/_VZ1MQ5J9uP1OsScNCM2WQitVvUl2eMsseZC4c_trqQCEPzgkVZzvwyKrHgjlZgD1lXo088mbY-ZEEl9UkC1pgn05Ry6Vg4uUDdjbR4hqcBUaSS4tpjdaWYpgeyflYZ11fBcUGoCpimKjcirwvXpkIcEtDSdWXPtJfTjnu5EIJ9AA0xmIOTPUkTCJ3Qqw9RjE0EMCqeLH37JhEM9qzk_lvZ_dYAZNccfKpVUwvCUFtbmHgN8FeKgDr0Q0RFGhB0kjU_itQ0pnVFOPeqHZG4Db29kc4wIDuxo3dL-3gyxooD6vmkSXb90SG-9w5nONCKcPhVXB-p7zRxjZJTSYjpJOQ2wiM5zWMw6tcKJIBFVhe8BUi_TmA2BdeMCnpOovgfiit-nCNMNUBZqcCVaJLuDOb8tywk5qs8_nKHroJXmQ4oEctiyDHkskI4ec82isKxwKB-iMeS5HSADRf9e0puKxmZjcjykjXHH1VAJoef2OiwVNxQbEasNg-zYyRPhQjg4U4qeY5i0PoOfDID1L_NzXVIDSi_Lwp20kcO4LvQZ85WB81LW8OuZ_bL1Dp_IjKptQmYtWMclFDN4kRB0a8SQi2ch6lN4ogkUimxMCXY=w1124-h1006-no)

printf()문이 정상적으로 실행되는데,

메모리2의 값이 쓰레기값으로 변한 걸 볼 수 있습니다.

이는 GetName()함수가 완전히 종료되어

GetName()함수의 지역변수였던 name이 소멸했다고 볼 수 있습니다.

<br>

또 한줄을 실행하여 free()함수가 실행되면...

![c_debug27](https://lh3.googleusercontent.com/v-9PbwxfxQrxc30SCuKHXDIvd1NFvVxjr3BLPXyCRYLhOKfFs-OF6HXYwhzhufwkBIQ_zqiGEXPrQv5tIEw3ZTL5U2mMgSu_qVZw8smsRSSttooTNYV9sG4EAXU439GeARFy5ewiYHjG8GTUJ9qQE0qYlnOxtjcOcs0demX7C6NBKQZFNcG2wYgPqktWyUgR5RDjFv8EoUL0IfpErWfgfum4c7I3jXIhD3mK5oMHfT79CC4emHsryQJF5tw5UXQVN-zWDAcUsbaPpp8pMB0rSx6oM1YEYHc004nghFxcwcIdo8bMLoMyIvxcaXBMhAixhnxhDKnNDm8Jm8_1HU3hYI-hRfy1Ti1DpvyAcchTKhwJnIgOo2iI_4DEdw7dCJHWNZZOKVyumnS92siLscBZRYVWOxIXGcCuRxf6_WkqAIV5KphCpC9fwfgf4RFUXpIW7XFG4eAWNMXvHJyWZ68flMqC8jmbBU-Te19FxUpUcH4Y0lwCgzR69fvDTU6MyFS_44xYoiSnOGvbuss6J4Ij-n12lBIlXkl850zQ3qyeBhWW48RPMD-qSMfSMRpZ6LcO3j6o01hbHyg5TqdiQzqGKTffU3qdXCVnXdhAWas=w1277-h1006-no)

동적할당한 메모리3의 값이 쓰레기값으로 전부 바뀐 걸 확인할 수 있습니다.

<br>

### <span style="color: green">호출 스택 살펴보기</span>

<br>

이번에는 디버깅 모드를 통해 호출 스택을 살펴보겠습니다.

살펴볼 코드는 팩토리얼을 계산하는 코드입니다.

팩토리얼을 간단하게 설명하자면

$$n! = n \cdot (n-1) \cdot (n-2) \cdots 3 \cdot 2 \cdot 1$$

즉, 예를 들어 3! = 3x2x1 = 6 입니다.

~~~ c
#include <stdio.h>

int CalcFactorial(int n)
{
	if (n == 1) return 1;
	return CalcFactorial(n - 1)*n;
}

int main(void)
{
	int input = 0, result = 0;
	printf("팩토리얼 계산기\n\n");
	printf("숫자를 입력하세요: ");
	scanf("%d", &input);

	result = CalcFactorial(input);
	putchar('\n');
	printf("%d!: %d\n\n", input, result);

	return 0;
}
~~~

![c_debug28](https://lh3.googleusercontent.com/KMnTIGYjSoneWYZzzEdayP2DAmnvcyhsBRstkL8fBBOFzkpX3CZWK5oAhfm642M3yhl0DxiJfG0UJfXUQvbGfBMEhoEP7b70weorJ9itORpDAx6X5Y2WYXIWM0Vdf5W1gz3K_GvOVDQwczKn-8uyOvowpyAAsPtOafBDvNYSzevDGtVctYGDFklu8QkBFAX0-Iqto_bzEe5d6tNB4s8OZR7fdZjI6jTl7PkgzPVBiq9aCYWLtCCUHa4Z8ShtOTxPMl9Qfd_rJGbtdGz5FEb8eunLvapum3cGw3cQkijIUB5mcXU4Y6VifgOwP0XYMeD1DpOBoOA5NbK1LTKCUPMBC10tB2xx7EskW73WR3L8QREmRZAdhOzamhCwy2G4LzLF8mSf08YyQAzf5WixoFIuwMwcNCtiOMLLzohJFREj70LDJPhbbDuUvV_WrvSAc2eY6aSXcAwZAeV28ve0sxI11I0AwZ7g21M7IosUg7eHqjzjddu_EsfFDiz7wY80pWfSFK-AA2a25ch2kbZG9DIvx1gUq3E3H5qOYKva9sWVphFmkGYlPKqQZdHI10dlRQzvKoq4ciILAGgmY5vCi9QzT1nwZuWobgW4-s_LifU=w918-h652-no)

<br>

이번에는 다음과 같이 CalcFactorial()함수의 첫줄에 중단점을 찍고

디버깅을 시작해봅니다.

![c_debug29](https://lh3.googleusercontent.com/FWeOA9IRoWDPpt2yruyf8mUqHS65aw6pIgrvU0iLqYyKX5GCKaHZAc0h_-3LA_dsu5gdAJzZbykkbQXqV5TmUg5zdm8V0U6IjUM3gL2fH0FYopsqnhR0DYRMG82kSZkKvwsdcH6ulnoE00iYfOZbcKNwn4Jz1ZnRREZKlZVHAzeH4BcwO4eWoRGiGbAygNH0dbYxQPLgiFGNEs7aVheuPYy61ceIdH7LgZ78xNbwKk0hypwOWrSVSLnzOOJ_dgW4bpk9eJthjqlW08Rf7IGoO-51sJbS5Q6zWcrz8iWWh7fv27ZmGokJTWYlpILjP-k8YSakk80kiFt-EcbLn8GRjZnB2OWBe7ZbDkWYwtymAXPoTs7alvW3qt5385UtgQ1jCDhRDuWhwZSQJqCdsmgrnBihWE_xRwsJfJBUZ8s05qc27PUujLKBFpf8N26I2lpI6vOSA0i6TCigwBruWM40n9PcWh2gWruiAg9RZZq6P3Lg6P98GiVXT8t3KRYwRrhPXyz0YpwIj8AkcjYM3G9JgHZl0N6O5WmQBrBfDXjuEAPHGDOhE-zQWVpC9bt5lpeg4AKCHxUJUxgWi2WfAYW-OZ_6_SC5h3NpZm9flBo=w1182-h641-no)

여기에 3을 입력하고 F10으로 다음 줄을 실행하면

![c_debug30](https://lh3.googleusercontent.com/Y9s0ba61pNwxKMryW4hbdcGeIpG1wAe-bP7v_EVrLj55Gu30QZZT8_EVeckDzaqz92EPbwkLXR_G0omuRHe7qE_58oSnAEjhtYN2WBdFdVBRdlhkvTcETSuH7ixJzJoAL_nK1fsHD-EtCFtXdbwaSUVOiMpHUfVgFEwZkYw3HBn3fqcqVD6yqu0YEhV0xRzmr9D1RQEO4z1fv1cnhSWCvABbye7_HskUrvCZWxESTcYlDF2g3NQjw07SRzJgqyDejAZZKenjLJBXfwKasA-bySUEa6GuIlN-1PNWhf0nxq_h3deTUFtD9EuhWqaTzI8lskFX6j67IntUHlRcioNnZV3j1oHQxVy6JPkT0aPXXunTDs4rVJndDELr6KFiPrEoEpCDXTycV0Q8rjnQpxe9A7WXAFNgfsSLH8b10mISWLFkNJbHvhDJJlhvV9laQe0gr0ztLyEJyOIUCIhaFFw6qpwO9pFBQUf-feB1noP9Xw6qXHBSxgrcvrrF4MN1bqkin2sI99dG251JD230PLcdMCsoBZwhya3SLSzgqFWq_OeV_OWsbuigDquqVZcBo3bxOcd-ht1c6pCW5QK2P1SlrdIB9Rrtcn8pj65XBh8=w1185-h724-no)

밑의 조사식에 이름에 n을 입력하면 현재 입력한 값인 3이 나옵니다.

그리고 그 옆에 호출 스택을 보면 현재 호출된 함수 스택을 볼 수 있습니다.

시작할때 main() 함수가 호출(실행)되고, 

현재 CalcFactorial() 함수가 호출되어서

순서대로 나와있습니다.

여기서 스택(Stack)이라는 것은 자료구조의 일종입니다.

![c_stack](https://lh3.googleusercontent.com/3kGYkfrHqLUy_265HqWMHy23PreNNyUmX-vKBRMHcbiK00onLP46SluhgrOnw0NIHifScWVLOnoE9l81JPyzlQNByp3teK3WzgV_i9ej61OX3BdgCnIpKu_uxOvUcunQEAIj0rooy9cfN1sYU49HU7GELKCv646BS8aiCsbZUhaVhFkiMUPrZIQnoZVB0bW3vDD0Ud8jsq5QcN-M-9kbJDEKrIRJIKFzRXSaBDSmnVD59znfXksLCW8dZRuj6_Zbl4QZ8ftbWP83WwsKBHdkHZmbCXRwY85PXSleWJJfNTZ0g1h6NYRxIv_z3Ee9NKHmGF9_GCVd66DxZ9DYV5ANh_r3hgPUpcFJ3b4otU_5nSn3LwJURj3P5dVP8ktT3auBbUOkncDleXhxRm5CfXsCoAkVdlfCOKWZ_L32nvfaaeCZN8s0OEIiscwSJDLbA2J-3eopU9csiPTmcQiy6R1-YRZ0qr_qOCofgbVE0QP83vGbPG3lSVvNuU41LVwOXiROVqrH9QV_V3WpNAJo6CXplcMyn2YRsflZqLxE9nMb74Qqp_wUhlcrIj-vHQgl9zMTtBZUR0OF7YGJEed9QLrLSPuiG_4pOFCrqXxAaA4=w773-h540-no)
##### 출저: [위키백과](https://en.wikipedia.org/wiki/Stack_(abstract_data_type))

<br>

데이터를 세로로 쌓는데 Push가 데이터를 입력하는 행위이고,

Pop이 데이터가 빼는 행위입니다.

6이란 데이터를 보면 가장 늦게 입력되었지만, 가장 먼저 나가게 됩니다.

이를 LIFO(Last In Fisrt Out)이라 부릅니다.

<br>

메모리 영역 중 Stack도 이와 동일한 원리로 작동합니다.

먼저 호출된 함수나 먼저 선언된 변수 순서대로

밑에서부터 쌓여지는... 그리고 없어질 땐 위에서부터 사라지는 구조입니다.

그래서 여기서도 main()함수가 밑에 그 위에 CalcFactorial()함수가 있습니다.

<br>

F10으로 계속 실행을 해보면 다음과 같이 됩니다.

![c_debug31](https://lh3.googleusercontent.com/7Vf7DAaFLptGw6f1L9NvVymec6eaB14x3xR1wuq75BqjNXSjEUXIBnN2bb90qe60T8zyEPiNRqcjolMgHn2-ajUmjcF0Ct-u2RfaShBxYItgq0Chig5zn41tvRa-bSh4cLMayncNcaFOsn8VtnBN9PzCXhF_i-JZVfwXb8eBTN9lGGCYWtCoH4V7wZipZGgWZzqjpHf6Gx_RcIvCF98qWJXLW2-hOYEfLvcOwCaixFw7HrFPiucWxcnqtMkw-n7HH2R0rMY7viJib6nk510EoRbz2IxRAPRV7WyeAe9HMEcSmvXr0sgdqECSkrPkL59MtBkJE0NF33rIyp0A5PicMTW11c_OidVx4G6faULGQUk8w6rf1ijw3tfZlyjGKmAgVIJ1fnpAfdMvMymps9WMeeF8N388D0N9obYPxOjK2fZjrXeBiDPk6aH8dku3YuDNbTqXumH8gi67a0p-VGmLCV5uLunPu_a6qtpJzH4gldrf_u5YKbAP3wgGEmmgElsQxxfsFE_lQ6hYA1Sd4QwzuxHTLzisVNOrPxUjO6FSg7CwIPa2O-A0H1EfQpptWVmfqvLqP9IZdzm4Pffz5Ec_i4dzuVREey2eRjaL3nQ=w1184-h737-no)

처음에 CalcFactorial() 함수가 받은 값은 3이므로,

if문을 지나쳐 return 구문으로 넘어갑니다.

그런데 CalcFactorial(n-1)\*n 값을 리턴하므로,

먼저 CalcFactorial(n-1)값을 계산해야겠죠.

그래서 처음에 실행됐던 CalcFactorial() 함수가 끝나지 않은 상태에서

또 CalcFactorial() 함수가 실행되었고, 이는 호출 스택부분에 나타납니다.

그리고 가장 최근에 실행된 CalcFactorial()은

CalcFactorial(2)이므로, 조사식 부분에 n값은 2가 나옵니다.

<br>

또 F10으로 다음줄을 실행시키면...

![c_debug32](https://lh3.googleusercontent.com/Tc5TjHkrj40sXpfh4lKEZG2JfPRxJPXKhXPlZTRus65pemEsNnPv04eyHCqaicFOm1izpqw84aX7WWbIwWb3ZVO7uqwU2YVfceYG9d1uC8xBz5y5W251EMuTNE5kpd44dCOYDLTC-P_15Nkz-L5Y9v71KtsNgitDoJiUxIcNc9lJjmy3PUZk7JpXer2xAmnZ1Mt3j4QSj1fsEnnMmxE8PoMcz4dEVwHugJTClavMi_4wVgX-GR3fy3bHugQUdh3SncLK43Xq79LhmKGuLg3Ltdr2larK6KlL3y4al9T2upJNmhQ-OIMZ8UFOxHdrcQZq8tooAKmWlNEU9K-8DUp_evas4CGEYQy3unbW1E9iO5CQpZvbFttJ7r_--pVjk3Uh76vFNDi8CWf7QS9vAX-fPYTPgVVf-s-HW8PbsFXn556NudlgCPdwS0LrpQAIO1DCUAI1i1YPWcSmWyWa_tk-Q2Ppt7uf6n7XulkqR7AbsuMc_qggHbglUZIT1byNJiOoVGAIYTtdQgCm8GZPJoIQkDW54bFX00fIsKvL3-slnvkceBYBEn_3_apdyhaYGCW_DjIDtGOKLcuVOmvUuPFJRY6UHDXvzr_Mi3HI_rk=w1183-h673-no)

이번엔 CalcFactorial(1)이 호출된 것이므로,

if문에 걸려 1을 반환하고 끝나게 됩니다.

그 이후로 계속 실행을 하다보면 다음과 같이

호출된 함수들이 하나씩 위에서부터 사라지게 됩니다.

(호출스택 부분과 조사식에 n값 주의해서 보기)

![c_debug33](https://lh3.googleusercontent.com/4vGoGfgGUO19MEV8dJSwlOVg78yoiBPUY863D1b9BarAdzlOhE4OOkqKtoMTxKjc21j18QdqXhhwTnP8adiTliWKaW1KuE6Oi71r9Rq0Nl4eR3EMXGZkCzdGxf08APjwdC-lrkdrbsubj6Jd_qgYSxLv5SMyvD8EIHefgx3tjIJZrgVHnSWWSmzvl6OkhZ2lWoZR2TyhnigYViFRnCYdxMWAYrQun3jseJjifL0PjpQrle4ILc4jPjC1JdckKfuuLvFzfEWMPwWP5b0sZDG5njM1kPWwsu-KN2Qi1EzCly23EH60dt0yEnX_ERc04835H30hM8_pYlVATcwzEQR9iK4e9v2M1X9pXi5BaYyD-RQdNGNieiWW3zcH-hURSTLankAvwJlg8wntiAmoOJBZfiHEWEcpoqWPPI0UxTcs40rGsgqz7o-dITpiTIbwHRPW-GLkE3dwDFuZjeWxjfGSmKNGj_d1DSDuxShJ899R5Df-ioYdpsDpVn6xRp57zt2JjYeQfTqOLdy9pwQ5GHAxQJ1d4W4AzkGYkq7qSMLqrlYBXZj98Qnm8nz1-WiDDgyi8KEcQl1qMvvRJdTcm-HxhDetyCzJybfyRdA3MqM=w1185-h711-no)

![c_debug34](https://lh3.googleusercontent.com/MPvcPCur3s_UZ6Yxrq59UDUtWaR53Ayvyh1a67aXp-3LxSRZX2IWBVet9hBseYFtBUOkgXWK8rYlIQAYXypXDhAOJuzsy0ImqpdOoNlG3uOP7YH8LGfzA56NcwKlN8Wb08fqmLIUIENCK9VtqBIGyMh30fqlJbVHQ8kGc1-mrB3pOeU-HBmWJQTiiuKuZIiBr5J749scKwdhPTrsKytlrtDT2TfF5ByHvGQ2nd0LS5acO-895H0uF7VYDG9L3Afq49qbUFOMvq-ztor_BT6XmPCn4wE5l4VsaJh944aVkp4QLgqoSPfTx8RpG6yRc5ONEOuSdMKNzjJsg_yoqYEE0bocDp4ug8H2VtC662z8na0sFo_3X4xIdPmkLsu-y0ZqMaVvweYn5nHeeJr2UddIYmM8dbaUFTLFDyfbCnZjO9FBx5Ynln6-8dUtirooDJkpHm9Tgn5eHyFoGdKNwLcTRmWswIJgQzaE286W2mrNC-i03_0w9yB2EMNv2yZ3w1VH82X2ehbYalGTG9NG6gEKbBnmTgcH9rvhAzJYaMm7R1F_a_Te4lvIeXuDCg7qXoz9ki8XhGLZ4YqzxWK8Slh4X2ZfGAWBLAHJn93suNw=w1184-h686-no)

![c_debug35](https://lh3.googleusercontent.com/tVEK_TuVYYxmGLiNtK5uEN07AjuO1ZsUH8Lhu4IhILWFjX2CipHrjHROE54Pd1r_VyRXxfQAGXXOhSt4Ns25Vzpi2Ordwt8VHe4NIBxMMo0caIlKF0jFLB3K6bCh5lkzvp10Nj-j2VEAlqjtInpNvRVPMDxEqKKS3UlTBzWYL9brnwx_GncpTVA5JRKscKEJ7eSPx5S-Hvk6QRU8R1c4riBczcSJt1vk0Y9UdR93XM8L7Hed2cme2dctpEkdr3_tBZ7CjiEKQWfix9eWRHThiL7tDajp-x5po3hV8P31WXBXB9R2Ki6azsHGFLDNbIjaKXjCKguHPSPTtX31rLhl1hS1_H_u3r9RkzWjODepznR7j6zLFWrbcit5_WY8lt5WXTaiTSS0zd3NqKlX1M-uW1myU0_8vHBG8YmcYHfrk-unNSGGaCns4erW4EjkxxcU5IqoBrgmYSa5gXC9ydadClJR1XIrB001FFMXY_IEYI2kk1fH1hGeImnmt69ghzPlGp0lYHPpyzOOVXgQx_7wzZiaR_xLAH4edWNn6leWbnatqUS5OFce3gwVxX8KR76HK7DuacLEzwoSgjLhg0br3QHRI7knvCAaoZSR4Ns=w1184-h706-no)

<br>

지금은 별 이상 없는 코드를 디버깅 해보았지만,

실제로 자신이 작성한 코드가 오류를 뿜을 때

이런 방식으로 메모리값이나 호출함수를 조사하여, 프로그램이

정말 자신이 의도한대로 돌아가고 있는지 확인할 수 있습니다.

한줄한줄 실행하기 때문에 어느 코드에서 잘못됐는지도 알 수 있습니다.

<br>
<hr>
<br>

## <span style="color: blue">Back to the Goal</span>

<br>

### <span style="color: green">문자열을 복사하는 함수를 작성하기</span>

![c_tutorial12_goal](https://lh3.googleusercontent.com/VGMu79mccQQuxPqh_2Wk5AHegw7qBJBIcJYsz9mYv0wv_alxli5YmBFhlyfeopUp_SPWPXwcyyYp71Xo9RMrvOXbFyzOlvSjy9c2sy0vcbKszW_GH7cx_Lyn5Sbzeiz7R-KLn60FhsDLm3GBHE6iremEx_Iq344IsmEnl99szNHH2gHP_KI_8qKCYCZo0ysQrfMiLye2D_5DDtJ-RiF4dt6P9N5kqEYf0P4FCVEedKFPPo7SIOEOhzhSpDiFERWAvpm_IwDuj-tpnW5VJyL5of9ZcvbfGTQC_t4XsqIIvWeAD-EtoI5Wp9R0n0E5L6Rc560-zlmYekyDf-MKbDRFK7UGhvYpta0Yoz0e7u-bjftzNN8_8TLm9gpnvKVIvhNvb7brULPolDKBKE06ySVQH3o1323UpYi6w_ZJmLRdFVJO7VE_n87WOi9gguS3zNWceqOdCZYoRvUUgfNVQet7VDAdxiEU7k2OEhchB5-Ryh6voMmezpGbmSL4laOuvSuf91T2a0XQasFS738MXhKi8wY2LQFqWJ77t42I0e7cEpSuwOfnJfliZ9Ims1rcxs-qsGAG_nmAQhfz7rJke96u0wN_LZGPb4gsSd3XJuI=w456-h202-no)

~~~ c
#include <stdio.h>

void MyStrcpy(char *dest, int size, char *src)
{
	// 코드 작성하기
}

int main(void)
{
	char str1[12] = { "Cute Teemo" };
	char str2[12] = { 0 };

	printf("str1을 str2에 복사하는 프로그램\n\n");
	printf("str1: %s\n", str1);
	printf("str2: %s\n\n", str2);

	MyStrcpy(str2, sizeof(str2), str1);
	
	printf("str2: %s\n\n", str2);

	return 0;
}
~~~

만약 str2의 초기 크기가 3인데,

str1의 문자열의 길이가 3보다 크다고하면

다음과 같이 복사가 진행되지 않고 끝나야합니다.

![c_tutorial12_goal2](https://lh3.googleusercontent.com/_TsN2_TpYTJrgVFlQ21FMNUM2d5LDmPa-Nd_hybabifwbhxZ29tb8wJOEZTz0e-BeF987wHgR1fJracI9YZYaroh-HnYGR5OUcM5yKUGpoeBjoLjjmdv_U89WaHU8moV27LvhGu66SetRDqSbIV6TX3lNYZpYUsbiPTCynG4NNYggh81Cf5s-vgzM69UxEHqhWjAT6Q7X7old2otghSnyO7UEHeGGo1DCFL1EfXw2_BFyzif9eV1QJCYL_UpkZ2tVNX-aYq2WYkIh1cHssE5-3Qa7QVfYtK17iYh6sIx-FVEmEzJ96PpTdt1-5CNs7pXBRDAuEUesmBEiWAjBUrgosmFX7cnsEo1J5oiBSa0He2wz5HPyfY71AwYkeqdmiSNubLZfyO-YJcxihK1qCMavQ3cB7x7qhET6FvqUvJC0LWXhVkk1_6a4mtyVy_Pa8MaB6_obzEZQj5fZxHRpqzJWd6FHM9WNcBJyjz59S-J6XPAJlR5bPLCGJFMKENDXvl7Knmo0hU42Q9CicK3A_Els14LMR8nmgt-TUt7qwA_xqGPZgoGdXEZZ7ZWTn2CUHtTIzdiJPTHA8popgc0E0SM6vAB6d9SXSarh46Ti2E=w511-h245-no)

<br>

~~~ c
#include <stdio.h>

void MyStrcpy(char *dest, int size, char *src)
{
	int idx = 0;

	if (strlen(src) + 1 > size)
	{
		printf("dest의 크기가 작아 src를 복사할 수 없습니다.\n");
		return;
	}

	while (src[idx] != '\0')
	{
		dest[idx] = src[idx];
		idx++;
	}

	dest[idx] = '\0';
}

int main(void)
{
	char str1[12] = { "Cute Teemo" };
	char str2[12] = { 0 };

	printf("str1을 str2에 복사하는 프로그램\n\n");
	printf("str1: %s\n", str1);
	printf("str2: %s\n\n", str2);

	MyStrcpy(str2, sizeof(str2), str1);
	
	printf("str2: %s\n\n", str2);

	return 0;
}
~~~
